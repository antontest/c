cscope 15 $HOME/working/program/c/proc_comm -q 0000000047 0000001565
	@proc_comm.c

1 
	~<°dio.h
>

2 
	~<°dlib.h
>

3 
	~<°rög.h
>

4 
	~<uni°d.h
>

5 
	~<f˙é.h
>

6 
	~<sig«l.h
>

7 
	~<sys/ty≥s.h
>

8 
	~<sys/waô.h
>

9 
	~<sys/°©.h
>

14 
	$pùe_ã°
()

16 
pid_t
 
pid
 = -1;

17 
fd
[2];

18 
buf
[64] = {0};

20 i‡(
	`pùe
(
fd
) < 0)

22 
	`Ârötf
(
°dîr
, "createÖipe failed.\n");

26 
pid
 = 
	`f‹k
();

27 
pid
)

30 
	`Ârötf
(
°dîr
, "fork failed.\n");

33 
	`˛o£
(
fd
[1]);

34 i‡(
	`ªad
(
fd
[0], 
buf
, (buf)) > 0)

35 
	`¥ötf
("ªcv: %s", 
buf
);

38 
	`˛o£
(
fd
[0]);

39 i‡(
	`wrôe
(
fd
[1], "hello\n", ("hello\n")) > 0)

40 
	`waô
(
NULL
);

46 
	}
}

57 
	$fifo_öô
(c⁄° *
∑th
, 
mode
)

59 
fifo_fd
 = -1;

61 i‡(
	`ac˚ss
(
∑th
, 
F_OK
) == -1)

63 i‡(
	`mkfifo
(
∑th
, 0777) < 0)

67 i‡((
fifo_fd
 = 
	`›í
(
∑th
, 
mode
)) < 0)  -1;

69  
fifo_fd
;

70 
	}
}

80 
	$fifo_deöô
(
fifo_fd
)

82 
∑th
[128] = {0};

83 
«me
[256] = {0};

88 i‡(
fifo_fd
 < 0)  0;

89 
	`•rötf
(
∑th
, "/¥oc/£lf/fd/%d", 
fifo_fd
);

90 i‡(
	`ªadlök
(
∑th
, 
«me
, (name)) <= 0)  -1;

95 i‡(
	`ac˚ss
(
∑th
, 
F_OK
) == -1)  0;

96 
	`u∆ök
(
«me
);

101 i‡(
fifo_fd
 > 0Ë
	`˛o£
(fifo_fd);

104 
	}
}

106 
	$sig_a˘
(
sig
)

108 
sig
)

110 
SIGINT
:

111 
	`¥ötf
("Ctl + C\n");

112 
	`exô
(0);

114 
SIGTERM
:

115 
	`¥ötf
("TERM\n");

116 
	`exô
(0);

119 
	`¥ötf
("noáct\n");

122 
	}
}

127 
	$maö
(
agrc
, *
agrv
[])

129 
π
 = 0;

131 
	`sig«l
(
SIGINT
, 
sig_a˘
);

132 
	`sig«l
(
SIGTERM
, 
sig_a˘
);

135  
π
;

136 
	}
}

	@
1
.
0
1
12
proc_comm.c
